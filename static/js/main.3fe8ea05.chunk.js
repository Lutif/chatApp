(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(e,t){},143:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(53),r=n.n(o),l=n(16),m=n(6),s=n(15),i=n(54),u=n(10),p=(n(68),n(55)),E=n.n(p),f=n(56),d=n.n(f);function g(){var e=Object(a.useState)({username:"",room:""}),t=Object(u.a)(e,2),n=t[0],o=n.username,r=n.room,m=t[1];function p(e){var t=e.target,n=t.name,a=t.value;m((function(e){return Object(i.a)({},e,Object(s.a)({},n,a))})),console.log("name : ".concat(o," room:").concat(r))}return c.a.createElement("div",null,c.a.createElement("div",{className:"header"}," ",c.a.createElement("img",{src:d.a})," "),c.a.createElement("div",{className:"joinContainer"},c.a.createElement("div",{className:"signinForm"},c.a.createElement("h1",null,"Welcome to EverChat"),c.a.createElement("input",{type:"text",name:"username",placeholder:"Enter your name",onChange:p}),c.a.createElement("input",{type:"text",name:"room",placeholder:"Enter room name",onChange:p}),c.a.createElement(l.b,{onClick:function(e){return o&&r?null:e.preventDefault()},to:"/chat?name=".concat(o,"&room=").concat(r)},c.a.createElement("button",{type:"submit"},"Sign in"))),c.a.createElement("div",null," ",c.a.createElement("img",{className:"signin",src:E.a})," ")))}var h,v=n(62),b=n(59),j=n.n(b),O=n(60),x=n.n(O),y=n(61),C=n.n(y),k="https://node-chatapp-server.herokuapp.com";function N(e){var t=e.location,n=Object(a.useState)({name:"",room:""}),o=Object(u.a)(n,2),r=o[0],l=(r.name,r.room,o[1],Object(a.useState)("")),m=Object(u.a)(l,2),s=m[0],i=m[1],p=Object(a.useState)([]),E=Object(u.a)(p,2),f=E[0],d=E[1];function g(e){e.preventDefault(),h.emit("sendMessage",s,(function(){i("")}))}return(Object(a.useEffect)((function(){var e=j.a.parse(t.search),n=e.name,a=e.room;return console.log(k),h=x()(k),console.log("socket is ",console.log(h.connected)),h.emit("Join",{name:n,room:a},(function(e){return console.log(e)})),function(){h.emit("disconnect"),h.off(),console.log("cleaning done")}}),[t.search,k]),Object(a.useEffect)((function(){h.on("message",(function(e){d([].concat(Object(v.a)(f),[e]))}))}),[f]),c.a.createElement("div",{className:"chatPage"},c.a.createElement("div",{className:"chatContainer"},c.a.createElement(C.a,{className:"chatContainerScroll"},c.a.createElement("div",null,f.map((function(e){return c.a.createElement("p",{key:e.user+e.text},e.user,":  ",e.text)})))),c.a.createElement("div",{className:"chatForm"},c.a.createElement("input",{type:"text",value:s,onChange:function(e){return i(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?g(e):null}}),c.a.createElement("button",{onClick:g},"Send")))))}var S=document.getElementById("root");r.a.render(c.a.createElement((function(){return c.a.createElement(l.a,{basename:"/chatApp"},c.a.createElement(m.a,{path:"/",exact:!0,component:g}),c.a.createElement(m.a,{path:"/chat",component:N}))}),null),S)},55:function(e,t,n){e.exports=n.p+"static/media/signin.282d27d0.svg"},56:function(e,t,n){e.exports=n.p+"static/media/logo.15093548.svg"},63:function(e,t,n){e.exports=n(143)},68:function(e,t,n){}},[[63,1,2]]]);
//# sourceMappingURL=main.3fe8ea05.chunk.js.map