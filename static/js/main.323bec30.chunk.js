(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(e,t){},143:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(53),r=n.n(o),l=n(16),m=n(6),i=n(15),s=n(54),u=n(10),E=(n(68),n(55)),f=n.n(E),p=n(56),g=n.n(p);function d(){var e=Object(a.useState)({username:"",room:""}),t=Object(u.a)(e,2),n=t[0],o=n.username,r=n.room,m=t[1];function E(e){var t=e.target,n=t.name,a=t.value;m((function(e){return Object(s.a)({},e,Object(i.a)({},n,a))})),console.log("name : ".concat(o," room:").concat(r))}return c.a.createElement("div",null,c.a.createElement("div",{className:"header"}," ",c.a.createElement("img",{src:g.a})," "),c.a.createElement("div",{className:"joinContainer"},c.a.createElement("div",{className:"signinForm"},c.a.createElement("h1",null,"Welcome to EverChat"),c.a.createElement("input",{type:"text",name:"username",placeholder:"Enter your name",onChange:E}),c.a.createElement("input",{type:"text",name:"room",placeholder:"Enter room name",onChange:E}),c.a.createElement(l.b,{onClick:function(e){return o&&r?null:e.preventDefault()},to:"/chat?name=".concat(o,"&room=").concat(r)},c.a.createElement("button",{type:"submit"},"Sign in"))),c.a.createElement("div",null," ",c.a.createElement("img",{className:"signin",src:f.a})," ")))}var v,h=n(62),b=n(59),j=n.n(b),O=n(60),x=n.n(O),y=n(61),C=n.n(y),N="localhost:5000";function k(e){var t=e.location,n=Object(a.useState)({name:"",room:""}),o=Object(u.a)(n,2),r=o[0],l=(r.name,r.room,o[1],Object(a.useState)("")),m=Object(u.a)(l,2),i=m[0],s=m[1],E=Object(a.useState)([]),f=Object(u.a)(E,2),p=f[0],g=f[1];function d(e){e.preventDefault(),v.emit("sendMessage",i,(function(){s("")}))}return(Object(a.useEffect)((function(){var e=j.a.parse(t.search),n=e.name,a=e.room;return console.log(N),v=x()(N),console.log("socket is ",console.log(v.connected)),v.emit("Join",{name:n,room:a},(function(e){return console.log(e)})),function(){v.emit("disconnect"),v.off(),console.log("cleaning done")}}),[t.search,N]),Object(a.useEffect)((function(){v.on("message",(function(e){g([].concat(Object(h.a)(p),[e]))}))}),[p]),c.a.createElement("div",{className:"chatPage"},c.a.createElement("div",{className:"chatContainer"},c.a.createElement(C.a,{className:"chatContainerScroll"},c.a.createElement("div",null,p.map((function(e){return c.a.createElement("p",{key:e.user+e.text},e.user,":  ",e.text)})))),c.a.createElement("div",{className:"chatForm"},c.a.createElement("input",{type:"text",value:i,onChange:function(e){return s(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?d(e):null}}),c.a.createElement("button",{onClick:d},"Send")))))}var S=document.getElementById("root");r.a.render(c.a.createElement((function(){return c.a.createElement(l.a,{basename:"/chatApp"},c.a.createElement(m.a,{path:"/",exact:!0,component:d}),c.a.createElement(m.a,{path:"/chat",component:k}))}),null),S)},55:function(e,t,n){e.exports=n.p+"static/media/signin.282d27d0.svg"},56:function(e,t,n){e.exports=n.p+"static/media/logo.15093548.svg"},63:function(e,t,n){e.exports=n(143)},68:function(e,t,n){}},[[63,1,2]]]);
//# sourceMappingURL=main.323bec30.chunk.js.map