(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{48:function(e,t,n){e.exports=n(95)},53:function(e,t,n){},92:function(e,t){},95:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(41),r=n.n(c),u=n(14),l=n(6),m=n(13),s=n(42),i=n(9);n(53);function f(){var e=Object(a.useState)({username:"",room:""}),t=Object(i.a)(e,2),n=t[0],c=n.username,r=n.room,l=t[1];function f(e){var t=e.target,n=t.name,a=t.value;l((function(e){return Object(s.a)({},e,Object(m.a)({},n,a))})),console.log("name : ".concat(c," room:").concat(r))}return o.a.createElement("div",{className:"joinContainer"},o.a.createElement("h1",null,"Welcome to Chat"),o.a.createElement("input",{type:"text",name:"username",placeholder:"Enter your name",onChange:f}),o.a.createElement("input",{type:"text",name:"room",placeholder:"Enter room name",onChange:f}),o.a.createElement(u.b,{onClick:function(e){return c&&r?null:e.preventDefault()},to:"/chat?name=".concat(c,"&room=").concat(r)},o.a.createElement("button",{type:"submit"},"Enter the room")))}var p,E=n(47),h=n(45),b=n.n(h),v=n(46),g=n.n(v),j="localhost:5000";function O(e){var t=e.location,n=Object(a.useState)({name:"",room:""}),c=Object(i.a)(n,2),r=c[0],u=(r.name,r.room,c[1],Object(a.useState)("")),l=Object(i.a)(u,2),m=l[0],s=l[1],f=Object(a.useState)([]),h=Object(i.a)(f,2),v=h[0],O=h[1];return Object(a.useEffect)((function(){var e=b.a.parse(t.search),n=e.name,a=e.room;return console.log(t),(p=g()(j)).emit("Join",{name:n,room:a},(function(e){return console.log(e)})),function(){p.emit("disconnect"),p.off(),console.log("cleaning done")}}),[t.search,j]),Object(a.useEffect)((function(){p.on("message",(function(e){O([].concat(Object(E.a)(v),[e]))}))}),[v]),o.a.createElement("div",{className:"chatContainer"},o.a.createElement("div",null,o.a.createElement("p",null,"messages"),v.map((function(e){return o.a.createElement("p",{key:e.user+e.text},e.user,":  ",e.text)}))),o.a.createElement("input",{type:"text",value:m,onChange:function(e){return s(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?function(e){e.preventDefault(),p.emit("sendMessage",m,(function(){s("")}))}(e):null}}))}var d=document.getElementById("root");r.a.render(o.a.createElement((function(){return o.a.createElement(u.a,{basename:"/chatApp"},o.a.createElement(l.a,{path:"/",exact:!0,component:f}),o.a.createElement(l.a,{path:"/chat",component:O}))}),null),d)}},[[48,1,2]]]);
//# sourceMappingURL=main.c5771471.chunk.js.map