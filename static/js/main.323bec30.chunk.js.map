{"version":3,"sources":["components/Join.jsx","components/Chat.jsx","index.js","app.jsx","components/images/signin.svg","components/images/logo.svg"],"names":["Join","useState","username","room","setData","handleChange","event","target","name","value","prevData","console","log","className","src","logo","type","placeholder","onChange","onClick","preventDefault","to","signin","socket","endPoint","Chat","location","message","setMessage","messages","setMessages","sendMessage","emit","useEffect","queryString","parse","search","io","connected","error","off","on","map","key","user","text","onKeyPress","root","document","getElementById","ReactDOM","render","basename","process","path","exact","component","module","exports"],"mappings":"mPAUe,SAASA,IAAQ,IAAD,EACMC,mBAAS,CAAEC,SAAS,GAAGC,KAAK,KADlC,0BACrBD,EADqB,EACrBA,SAAUC,EADW,EACXA,KAAMC,EADK,KAG3B,SAASC,EAAaC,GAAQ,IAAD,EACLA,EAAMC,OAArBC,EADoB,EACpBA,KAAMC,EADc,EACdA,MACXL,GAAQ,SAAAM,GAAQ,sBAASA,EAAT,eAAoBF,EAAOC,OAC3CE,QAAQC,IAAR,iBAAsBV,EAAtB,iBAAuCC,IAO3C,OACI,6BACI,yBAAKU,UAAU,UAAf,IAAyB,yBAAKC,IAAKC,MAAnC,KACJ,yBAAKF,UAAU,iBACX,yBAAKA,UAAU,cACf,mDACA,2BAAOG,KAAK,OAAOR,KAAK,WAAWS,YAAY,kBAAkBC,SAAUb,IAC3E,2BAAOW,KAAK,OAAOR,KAAK,OAAOS,YAAY,kBAAkBC,SAAUb,IAEvE,kBAAC,IAAD,CAAMc,QAbd,SAA2Bb,GACvB,OAASJ,GAAaC,EAA8B,KAAvBG,EAAMc,kBAYGC,GAAE,qBAAgBnB,EAAhB,iBAAiCC,IAEjE,4BAAQa,KAAK,UAAb,aAIJ,iCAAM,yBAAKH,UAAU,SAASC,IAAKQ,MAAnC,O,ICjCRC,E,2DAGEC,EAFU,iBAKD,SAASC,EAAT,GAA2B,IAAZC,EAAW,EAAXA,SAAW,EACTzB,mBAAS,CAAEO,KAAK,GAAIL,KAAK,KADhB,+BAC/BK,KAD+B,EACzBL,KADyB,KAETF,mBAAS,KAFA,mBAEhC0B,EAFgC,KAEvBC,EAFuB,OAGP3B,mBAAS,IAHF,mBAGhC4B,EAHgC,KAGtBC,EAHsB,KAiCrC,SAASC,EAAYzB,GACjBA,EAAMc,iBAENG,EAAOS,KAAK,cAAeL,GAAS,WAAgBC,EAAW,OAKnE,OAlCAK,qBAAU,WAAO,IAAD,EACWC,IAAYC,MAAMT,EAASU,QAA1C5B,EADI,EACJA,KAAML,EADF,EACEA,KAQd,OAPAQ,QAAQC,IAAIY,GACZD,EAASc,IAAGb,GACZb,QAAQC,IAAI,aAAcD,QAAQC,IAAIW,EAAOe,YAC7Cf,EAAOS,KAAK,OAAQ,CAAExB,OAAML,SAAQ,SAACoC,GAAD,OAChC5B,QAAQC,IAAI2B,MAGT,WACHhB,EAAOS,KAAK,cACZT,EAAOiB,MACP7B,QAAQC,IAAI,oBAEjB,CAACc,EAASU,OAAQZ,IAKrBS,qBAAU,WACNV,EAAOkB,GAAG,WAAW,SAACd,GAClBG,EAAY,GAAD,mBAAKD,GAAL,CAAeF,UAG/B,CAACE,IAWI,yBAAKhB,UAAU,YACf,yBAAKA,UAAU,iBACf,kBAAC,IAAD,CAAiBA,UAAU,uBAC3B,6BACSgB,EAASa,KAAI,SAACf,GAAD,OAAY,uBAAGgB,IAAKhB,EAAQiB,KAAKjB,EAAQkB,MAAOlB,EAAQiB,KAA5C,MAAqDjB,EAAQkB,WAG/F,yBAAKhC,UAAU,YACf,2BAAOG,KAAK,OACJP,MAAOkB,EACPT,SAAU,SAACZ,GAAD,OAAWsB,EAAWtB,EAAMC,OAAOE,QAC7CqC,WAAY,SAACxC,GAAD,MAAyB,UAAdA,EAAMqC,IAAkBZ,EAAYzB,GAAS,QACxE,4BAAQa,QAASY,GAAjB,YC7DhB,IAAMgB,EAAOC,SAASC,eAAe,QAErCC,IAASC,OAAO,mBCDD,WACX,OACG,kBAAC,IAAD,CAAQC,SAAUC,YACjB,kBAAC,IAAD,CAAQC,KAAK,IAAIC,OAAK,EAACC,UAAWxD,IAClC,kBAAC,IAAD,CAAOsD,KAAK,QAAQE,UAAW/B,ODHvB,MAAOsB,I,mBENvBU,EAAOC,QAAU,IAA0B,oC,mBCA3CD,EAAOC,QAAU,IAA0B,kC","file":"static/js/main.323bec30.chunk.js","sourcesContent":["import React ,{ useState}from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './styles.css';\r\nimport signin from './images/signin.svg';\r\nimport logo from './images/logo.svg';\r\n//material ui design\r\n\r\n\r\n\r\n\r\nexport default function Join() {\r\n    let [{username, room},setData] = useState({ username:'',room:'' });\r\n    \r\n    function handleChange(event) {\r\n        let {name, value} = event.target \r\n        setData(prevData => ({...prevData, [name]: value}))\r\n        console.log(`name : ${username} room:${room}`)\r\n         \r\n    }\r\n    function preventEmptyClick(event) {\r\n        return (!username || !room)? event.preventDefault():null\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className='header'> <img src={logo} /> </div>\r\n        <div className=\"joinContainer\">\r\n            <div className='signinForm'>\r\n            <h1>Welcome to EverChat</h1>\r\n            <input type=\"text\" name='username' placeholder='Enter your name' onChange={handleChange}/>\r\n            <input type=\"text\" name='room' placeholder='Enter room name' onChange={handleChange}/>\r\n            \r\n            <Link onClick={preventEmptyClick} to={`/chat?name=${username}&room=${room}`}>\r\n            \r\n                <button type='submit'  >Sign in</button>\r\n                </Link>\r\n                \r\n            </div>\r\n            <div> <img className='signin' src={signin} /> </div>\r\n            </div>\r\n            </div>\r\n            \r\n            \r\n    )\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport queryString from 'query-string';\r\nimport io from 'socket.io-client';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n\r\nlet socket;\r\nlet localhost = 'localhost:5000'\r\nlet heroku = 'https://node-chatapp-server.herokuapp.com';\r\nconst endPoint = localhost;\r\n    // 'localhost:5000' || 'https://node-chatapp-server.herokuapp.com';\r\n\r\nexport default function Chat({location}) {\r\n    let [{name, room},setData]= useState({ name:'', room:'' });\r\n    let [message, setMessage] = useState('');\r\n    let [messages, setMessages] = useState([]);\r\n    \r\n\r\n    //handling join \r\n    useEffect(() => {\r\n        const { name, room } = queryString.parse(location.search)\r\n        console.log(endPoint);\r\n        socket = io(endPoint);\r\n        console.log('socket is ', console.log(socket.connected));\r\n        socket.emit('Join', { name, room }, (error) =>\r\n            console.log(error)\r\n        );\r\n\r\n        return () => { //handling cleaning.. executed at unmount\r\n            socket.emit('disconnect');\r\n            socket.off();\r\n            console.log('cleaning done')\r\n        }\r\n    }, [location.search, endPoint]);\r\n        \r\n\r\n//for reviving messages\r\n    \r\n    useEffect(() => {\r\n        socket.on('message', (message) => {\r\n            setMessages([...messages, message]) ;\r\n\r\n        })\r\n    }, [messages]);\r\n\r\n    function sendMessage(event) {\r\n        event.preventDefault()\r\n\r\n        socket.emit('sendMessage', message, () => {         setMessage('');\r\n    });\r\n    \r\n    }\r\n\r\n    return (\r\n            <div className='chatPage'>\r\n            <div className=\"chatContainer\">\r\n            <ScrollToBottom  className=\"chatContainerScroll\">\r\n            <div >\r\n                    {messages.map((message)=> <p key={message.user+message.text}>{message.user}:  {message.text}</p>)}\r\n                </div>\r\n            </ScrollToBottom>\r\n            <div className=\"chatForm\">\r\n            <input type=\"text\"\r\n                    value={message}\r\n                    onChange={(event) => setMessage(event.target.value)}\r\n                    onKeyPress={(event) => event.key === \"Enter\" ? sendMessage(event) : null} />\r\n                <button onClick={sendMessage}>Send</button>\r\n                </div>\r\n            </div>\r\n            </div>\r\n    )}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app';\r\n\r\nconst root = document.getElementById('root');\r\n\r\nReactDOM.render(<App/>,root) ","import React from 'react';\r\n\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport Join from './components/Join';\r\nimport Chat from './components/Chat';\r\nexport default function App() {\r\n    return (\r\n       <Router basename={process.env.PUBLIC_URL}>\r\n        <Route  path='/' exact component={Join} />\r\n        <Route path=\"/chat\" component={Chat} />\r\n        </Router> \r\n     \r\n    )\r\n}","module.exports = __webpack_public_path__ + \"static/media/signin.282d27d0.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.15093548.svg\";"],"sourceRoot":""}